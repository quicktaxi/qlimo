{"version":3,"sources":["app/account/login/login.controller.js"],"names":[],"mappings":"AAAA;;;;;;IAEM,e;AACJ,2BAAY,IAAZ,EAAkB,KAAlB,EAAyB,MAAzB,EAAiC;AAAA;;AAC/B,SAAK,IAAL,GAAY,EAAZ;AACA,SAAK,MAAL,GAAc,EAAd;AACA,SAAK,SAAL,GAAiB,KAAjB;;AAEA,SAAK,IAAL,GAAY,IAAZ;AACA,SAAK,MAAL,GAAc,MAAd;AACA,SAAK,KAAL,GAAa,KAAb;AACD;;;;0BAEK,I,EAAM;AAAA;;AACV,WAAK,SAAL,GAAiB,IAAjB;;AAEA,UAAI,KAAK,MAAT,EAAiB;AACf,aAAK,IAAL,CAAU,KAAV,CAAgB;AACZ,iBAAO,KAAK,IAAL,CAAU,KADL;AAEZ,oBAAU,KAAK,IAAL,CAAU;AAFR,SAAhB,EAIG,IAJH,CAIQ,YAAM;;AAEV;AACA,cAAG,MAAK,IAAL,CAAU,cAAV,GAA2B,IAA3B,IAAmC,OAAtC,EAA8C;AAC5C,kBAAK,MAAL,CAAY,EAAZ,CAAe,OAAf;AACD,WAFD,MAEM,IAAG,MAAK,IAAL,CAAU,cAAV,GAA2B,IAA3B,IAAmC,iBAAtC,EAAwD;AAC5D,kBAAK,MAAL,CAAY,EAAZ,CAAe,iBAAf;AACD,WAFK,MAED;AACH,kBAAK,MAAL,CAAY,EAAZ,CAAe,MAAf;AACD;AAEF,SAfH,EAgBG,KAhBH,CAgBS,eAAO;AACZ,gBAAK,MAAL,CAAY,KAAZ,GAAoB,IAAI,OAAxB;AACD,SAlBH;AAmBD;AACF;;;;;;AAIH,QAAQ,MAAR,CAAe,WAAf,EACG,UADH,CACc,iBADd,EACiC,eADjC","file":"app/account/login/login.controller.js","sourcesContent":["'use strict';\n\nclass LoginController {\n  constructor(Auth, $http, $state) {\n    this.user = {};\n    this.errors = {};\n    this.submitted = false;\n\n    this.Auth = Auth;\n    this.$state = $state;\n    this.$http = $http;\n  }\n\n  login(form) {\n    this.submitted = true;\n\n    if (form.$valid) {\n      this.Auth.login({\n          email: this.user.email,\n          password: this.user.password\n        })\n        .then(() => {\n           \n          // Logged in, redirect to home\n          if(this.Auth.getCurrentUser().role == 'admin'){\n            this.$state.go('admin');\n          }else if(this.Auth.getCurrentUser().role == 'serviceProvider'){\n            this.$state.go('serviceprovider');\n          }else{\n            this.$state.go('main');\n          }\n          \n        })\n        .catch(err => {\n          this.errors.other = err.message;\n        });\n    }\n  }\n  \n}\n\nangular.module('aacrudApp')\n  .controller('LoginController', LoginController);\n"],"sourceRoot":"/source/"}