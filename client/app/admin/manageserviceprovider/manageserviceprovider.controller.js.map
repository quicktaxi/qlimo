{"version":3,"sources":["app/admin/manageserviceprovider/manageserviceprovider.controller.js"],"names":[],"mappings":"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","file":"app/admin/manageserviceprovider/manageserviceprovider.controller.js","sourcesContent":["'use strict';\n\n(function(){\n\nclass ManageserviceproviderComponent {\n    \n    constructor($http, Auth, $scope, $state, socket) {\n      this.$http = $http;\n      this.Auth = Auth;\n      this.socket = socket;\n      this.$state = $state;\n      \n      this.serviceProviderLists = [];\n      this.listView = 1;\n      this.addNew = 1;\n      \n       this.companyName = \"\";\n        this.firstName = \"\";\n        this.lastName = \"\";\n        this.email = \"\";\n        this.registrationDate = \"\";\n        this.freeTrial = \"\";\n        this.noOfFreeTrail =  \"\";\n        this.annualAppRenewalFee = \"\";\n        this.maximumAllowedVehicle = \"\";\n        this.status = \"\";\n      \n      $scope.$on('$destroy', function() {\n        socket.unsyncUpdates('serviceprovider');\n      });\n    }\n      \n    $onInit() {\n        this.$http.get('/api/serviceproviders')\n        .then(response => {\n          this.serviceProviderLists = response.data;\n          this.socket.syncUpdates('serviceprovider', this.serviceProviderLists);\n        });\n    }\n      \n  registerServiceProvider(form) {\n    this.submitted = true;\n    if(!this.id){\n    if (form.$valid) {\n        \n//      this.Auth.createServiceProvider({\n//          provider: 'local',\n//          role: 'guest',\n//          name: this.name,\n//          email: this.email,\n//          password: this.password\n//        })\n        \n        this.$http.post('/api/users', {\n            provider: 'local',\n            role: 'serviceProvider',\n            name: this.name,\n            email: this.email,\n            password: this.password\n        })\n        .then(() => {\n            this.$http.post('/api/serviceproviders', {\n                companyName: this.companyName,\n                firstName: this.name,\n                lastName: this.lastName,\n                email: this.email,\n                commissionPercentage: this.commissionPercentage,\n                commissionPerBooking: this.commissionPerBooking,\n                commissionPerDay: this.commissionPerDay,\n                freeTrial: this.freeTrial,\n                noOfFreeTrail: this.noOfFreeTrail,\n                annualAppRenewalFee: this.annualAppRenewalFee,\n                maximumAllowedVehicle: this.maximumAllowedVehicle,\n                status: this.status\n            });\n        })\n        .then(() => {\n            this.$http.put('/api/users/57ac81fc14f27b6007aecf06', {\n               \n                name: \"Devashish\"\n            });\n        })\n        .catch(err => {\n          err = err.data;\n          this.errors = {};\n\n          // Update validity of form fields that match the mongoose errors\n          angular.forEach(err.errors, (error, field) => {\n            form[field].$setValidity('mongoose', false);\n            this.errors[field] = error.message;\n          });\n        });\n        this.listView = 1;\n    }\n    }\n  }\n  \n  updateValue() {\n//      if (this.vehicleType && this.vehicle ) {\n\n        this.$http.put('/api/serviceproviders/' + this.id, {\n            companyName: this.companyName,\n            firstName: this.name,\n            lastName: this.lastName,\n            commissionPercentage: this.commissionPercentage,\n            commissionPerBooking: this.commissionPerBooking,\n            commissionPerDay: this.commissionPerDay,\n            freeTrial: this.freeTrial,\n            noOfFreeTrail: this.noOfFreeTrail,\n            annualAppRenewalFee: this.annualAppRenewalFee,\n            maximumAllowedVehicle: this.maximumAllowedVehicle,\n            status: this.status\n        });\n        this.companyName = \"\";\n        this.firstName = \"\";\n        this.lastName = \"\";\n        this.email = \"\";\n        this.commissionPercentage = \"\";\n        this.commissionPerBooking = \"\";\n        this.commissionPerDay = \"\";\n        this.freeTrial = \"\";\n        this.noOfFreeTrail =  \"\";\n        this.annualAppRenewalFee = \"\";\n        this.maximumAllowedVehicle = \"\";\n        this.status = \"\";\n        this.addNew = 1;\n//      }\n    }\n  \n  updateThing(thing) {\n        console.log(\"ssssssssssss\");\n         this.addNew = 0;\n//      this.$http.get('/api/serviceproviders/' + thing._id)\n//        .then(response => {\n            this.id = thing._id;\n            this.companyName = thing.companyName;\n            this.name = thing.firstName;\n            this.lastName = thing.lastName;\n            this.email = thing.email;\n            this.commissionPercentage = thing.commissionPercentage;\n            this.commissionPerBooking = thing.commissionPerBooking;\n            this.commissionPerDay = thing.commissionPerDay;\n            this.registrationDate = thing.registrationDate;\n            this.freeTrial = thing.freeTrial;\n            this.noOfFreeTrail = thing.noOfFreeTrail;\n            this.annualAppRenewalFee = thing.annualAppRenewalFee;\n            this.maximumAllowedVehicle = thing.maximumAllowedVehicle;\n            this.status = thing.status;\n           \n//        });\n        this.listView = 0;\n    }\n  \n    changeStatus(thing) {\n      if(thing.status === 'Pending'){\n            this.$http.put('/api/serviceproviders/' + thing._id, {\n              status: \"Approved\"\n            });\n        }else{\n            this.$http.put('/api/serviceproviders/' + thing._id, {\n              status: \"Pending\"\n            });\n        }\n    }\n    \n    addNewItem() {\n         this.companyName = \"\";\n        this.firstName = \"\";\n        this.lastName = \"\";\n        this.email = \"\";\n        this.commissionPercentage = \"\";\n        this.commissionPerBooking = \"\";\n        this.commissionPerDay = \"\";\n        this.freeTrial = \"\";\n        this.noOfFreeTrail =  \"\";\n        this.annualAppRenewalFee = \"\";\n        this.maximumAllowedVehicle = \"\";\n        this.status = \"\";\n        this.listView = 0;\n    }\n      \n    manageListView() {\n        this.listView = 1;\n    }\n    \n    deleteThing(thing) {\n      this.$http.delete('/api/serviceproviders/' + thing._id);\n    }\n  \n  \n}\n\nangular.module('aacrudApp')\n  .component('manageserviceprovider', {\n    templateUrl: 'app/admin/manageserviceprovider/manageserviceprovider.html',\n    controller: ManageserviceproviderComponent,\n    controllerAs: 'manageserviceproviderCtrl'\n  });\n\n})();\n"],"sourceRoot":"/source/"}